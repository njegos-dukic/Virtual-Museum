<%@page import="org.unibl.etf.virtualmuseum.services.UserService"%>
<%@page import="org.unibl.etf.virtualmuseum.entities.UserEntity"%>

<%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
	
<!DOCTYPE html>
<html lang="en">
	<head>
    	<meta charset="UTF-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<title>Virtual Museum Admin</title>
    	<link href="../css/Header.css" rel="stylesheet" type="text/css">
    	<link href="../css/Menu.css" rel="stylesheet" type="text/css">
    	<link href="../css/Content.css" rel="stylesheet" type="text/css">
    	<link rel="icon" href="../images/logo.png">
    	<link rel="preconnect" href="https://fonts.googleapis.com">
    	<link rel="preconnect" href="https://fonts.gstatic.com">
    	<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet"> 				
	</head>
	
	<body>
		<div class="header-container">
            <div class="header-logo-container">
			    <img class="header-logo" src="../images/logo.png" />
            </div>

			<div class="header-title">
                VIRTUAL MUSEUM ADMINISTRATION
            </div>
 
			<div class="header-login-container">
				<form class="header-login-container" action="#" method="post">
	                <div class="header-login-label">
	                    KORISNICKO IME &nbsp; &nbsp; 
	                </div>
	                <input type="hidden" name="logout" value="1" />
	                <div class="tooltip">
		                <input type="image" class="header-login-image" src="../images/login.png" />
	                	<span class="tooltiptext">Log out</span>
	                </div>
                </form>
            </div>
		</div>

		<div class="menu-container">
			<a class="menu-item right-margin-3" href="Museums.jsp">
		        MUSEUMS
		    </a>
		    <a class="menu-item left-margin-3 right-margin-3" href="Tours.jsp">
		        TOURS
		    </a>
		    <a class="menu-item left-margin-3" href="Users.jsp">
		        USERS
		    </a>
		</div>	
		
		<a href="AddMuseum.jsp" class="new-museum-container" >Add new Museum</a>
		
		<div class="content-container">
			<div class="content-custom-table-header">
		    	<div style="width: 15%;" class="content-custom-table-column right-margin-2">
		        	USERNAME
		        </div>
		        <div style="width: 15%;" class="content-custom-table-column left-right-margin-2">
		        	NAME
		        </div>
				<div style="width: 15%;" class="content-custom-table-column left-right-margin-2">
		       		SURNAME
		        </div>
		        <div style="width: 15%;" class="content-custom-table-column left-right-margin-2">
		        	EMAIL
		        </div>
		        <div style="width: 6.66%;" class="content-custom-table-column left-right-margin-2">
		        	ADMIN
		        </div>
		        <div style="width: 6.66%;" class="content-custom-table-column left-right-margin-2">
			    	APPROVED
		        </div>
		        <div style="width: 6.66%;" class="content-custom-table-column left-right-margin-2">
		        	BLOCKED
		        </div>
		        <div style="width: 6.66%;" class="content-custom-table-column left-right-margin-2">
		        	RESET
		        </div>
		        <div style="width: 6.66%;" class="content-custom-table-column left-right-margin-2">
		        	EDIT
		        </div>
		        <div style="width: 6.66%;" class="content-custom-table-column left-right-margin-2">
		        	REMOVE
		        </div>
			</div>	

			<% for (UserEntity ue : UserService.selectAll()) { %>
				<div class="content-custom-table-record-container">
			    	<div style="width: 15%;" class="content-custom-table-column content-custom-table-data-column-color right-margin-2">
			        	<%= ue.getUsername() %>
			        </div>
			        <div style="width: 15%;" class="content-custom-table-column content-custom-table-data-column-color left-right-margin-2">
			        	<%= ue.getFirstName() %>
			        </div>
			        <div style="width: 15%;" class="content-custom-table-column content-custom-table-data-column-color left-right-margin-2">
			        	<%= ue.getLastName() %>
			        </div>
			        <div style="width: 15%;" class="content-custom-table-column content-custom-table-data-column-color left-right-margin-2">
			        	<%= ue.getEmail() %>
			        </div>
			        <div style="width: 6.66%;" class="content-custom-table-column content-custom-table-data-column-color left-right-margin-2">
			        	<img style="height: min(calc(8px + 1.5vw), 16px);" src="../images/<%= ue.isAdmin() ? "check.png" : "cancel.png" %>" />
			        </div>
			        <div style="width: 6.66%;" class="content-custom-table-column content-custom-table-data-column-color left-right-margin-2">
			        	<img style="height: min(calc(8px + 1.5vw), 16px);" src="../images/<%= ue.isApproved() ? "check.png" : "cancel.png" %>" />
			        </div>
			        <div style="width: 6.66%;" class="content-custom-table-column content-custom-table-data-column-color left-right-margin-2">
			        	<img style="height: min(calc(8px + 1.5vw), 16px);" src="../images/<%= ue.isBlocked() ? "check.png" : "cancel.png" %>" />
			        </div>
			        <div style="width: 6.66%;" class="content-custom-table-column content-custom-table-data-column-color left-right-margin-2">
			        	<img style="height: min(calc(8px + 1.5vw), 16px);" src="../images/unlocked.png" />
			        </div>
			        <div style="width: 6.66%; justify-content: center; overflow: hidden; height: min(calc(8px + 1.5vw), 16px);" class="content-custom-table-column content-custom-table-data-column-color left-right-margin-2">
			        	<form style="height: min(calc(8px + 1.5vw), 16px);" action="EditUser.jsp" method=post>
			        		<input type="hidden" name="current-id" value="<%= ue.getId() %>">
			        		<input type="hidden" name="current-username" value="<%= ue.getUsername() %>">
			        		<input type="hidden" name="current-firstName" value="<%= ue.getFirstName() %>">
			        		<input type="hidden" name="current-lastName" value="<%= ue.getLastName() %>">
			        		<input type="hidden" name="current-email" value="<%= ue.getEmail() %>">
			        		<input style="height: min(calc(8px + 1.5vw), 16px);" src="../images/edit.png" type="image">
			        	</form>
			        </div>
			        <div style="width: 6.66%; justify-content: center; overflow: hidden; height: min(calc(8px + 1.5vw), 16px);" class="content-custom-table-column content-custom-table-data-column-color left-margin-2">
			        	<form action="#" method="post">
			        		<input type="hidden" name="delete-id" value="<%= ue.getId() %>" >
			        		<input style="height: min(calc(8px + 1.5vw), 16px);" src="../images/remove.png" type="image">
			        	</form>
			        </div>
			    </div>
			<% } %>
		</div>
	</body>
</html>